plugins {
  id "java"
  id "com.github.johnrengelman.shadow" version "8.1.1"
}

group = "dev.mcger"
version = '0.1.0'

java {
  toolchain {
    languageVersion = JavaLanguageVersion.of(21)
  }
}

repositories {
  mavenCentral ()
  maven {
    url = "https://repo.papermc.io/repository/maven-public"
  }
}

dependencies {
  // Paper ì„œë²„ ì œê³µ â†’ compileOnly
  compileOnly "io.papermc.paper:paper-api:1.21.10-R0.1-SNAPSHOT"

  // ì„œë²„ì— ì—†ìœ¼ë¯€ë¡œ ë°˜ë“œì‹œ í¬í•¨
  implementation "org.java-websocket:Java-WebSocket:1.5.6"
}

tasks.withType(JavaCompile).configureEach {
    options.encoding = 'UTF-8'
}

shadowJar {
  relocate "org.java_websocket", "dev.mcger.libs.websocket"

  // ğŸ”‘ í•µì‹¬ í•´ê²° ì„¤ì •
  mergeServiceFiles()
  exclude "META-INF/*.SF"
  exclude "META-INF/*.DSA"
  exclude "META-INF/*.RSA"
}
